### 8.2.2 Cantelli不等式和切比雪夫不等式


马尔可夫不等式基于期望 <img src="http://latex.codecogs.com/gif.latex?E[x]" style="border:none;"> 来求概率上限。在这里，我们介绍在基于期望 <img src="http://latex.codecogs.com/gif.latex?E[x]" style="border:none;"> 外，利用方差 <img src="http://latex.codecogs.com/gif.latex?V[x]" style="border:none;"> 来求概率上限。  

当随机变量 <img src="http://latex.codecogs.com/gif.latex?x" style="border:none;"> 具有期望 <img src="http://latex.codecogs.com/gif.latex?E[x]" style="border:none;"> 和方差 <img src="http://latex.codecogs.com/gif.latex?V[x]" style="border:none;"> ,并有通用不等式如下(由 <img src="http://latex.codecogs.com/gif.latex?a\geq%20b\Rightarrow%20a^{2}\geq%20b^{2}" style="border:none;"> 可得)  
<img src="http://latex.codecogs.com/gif.latex?Pr(a\geq%20b)\leq%20Pr(a^{2}\geq%20b^{2})" style="border:none;">  
由马尔可夫不等式（8.1）可得，对于正标量 <img src="http://latex.codecogs.com/gif.latex?\varepsilon" style="border:none;"> ,  
<img src="http://latex.codecogs.com/gif.latex?\begin{align*}Pr(x-E[x]\geq\varepsilon)&=Pr(\varepsilon(x-E[x])+V[x]\geq%20V[x]+\varepsilon^{2})\\&\leq%20Pr(\left\{\varepsilon(x-E[x])+V[x]\right\}^{2}\geq\left\{V[x]+\varepsilon^{2}\right\}^{2})\\&\leq\frac{E[\left\{\varepsilon(x-E[x])+V[x]\right\}^{2}]}{\left\{V[x]+\varepsilon^{2}\right\}^{2}}=\frac{V[x]}{V[x]+\varepsilon^{2}}.\end{align*}" style="border:none;">  
这被称为Cantelli不等式或单边切比雪夫不等式。 类似地，以下不等式也成立：  
<img src="http://latex.codecogs.com/gif.latex?Pr(x-E[x]\leq-\varepsilon)\leq\frac{V[x]}{V[x]+\varepsilon^{2}}." style="border:none;">
此外，由马尔可夫不等式（8.1）可得出
<img src="http://latex.codecogs.com/gif.latex?Pr(\left|x-E[x]\right|\geq\varepsilon)=Pr((x-E[x])^{2}\geq\varepsilon^{2})\leq\frac{V[x]}{\varepsilon^{2}}," style="border:none;">  
这被称为切比雪夫不等式（如图8.2）。马尔可夫不等式只能约束单侧概率，而切比雪夫不等式允许我们约束双侧概率。 可以类似地获得下限：  
<img src="http://latex.codecogs.com/gif.latex?Pr(\left|x-E[x]\right|<\varepsilon)\geq1-\frac{V[x]}{\varepsilon^{2}}." style="border:none;">  
![图8.2](图8.2.png)  
切比雪夫不等式可以扩展到任意区间 <img src="http://latex.codecogs.com/gif.latex?[a,b]" style="border:none;"> ：  
<img src="http://latex.codecogs.com/gif.latex?Pr(a<x<b)\geq1-\frac{V[x]+(E(x)-\frac{a+b}{2})^{2}}{(\frac{b-a}{2})^{2}}," style="border:none;">  
这可以通过马尔可夫不等式来证明：  
<img src="http://latex.codecogs.com/gif.latex?\begin{align*}Pr((x\leq%20a)\cup(b\leq%20x))&=Pr(\left|x-\frac{a+b}{2}\right|\geq\frac{b-a}{2})\\&=Pr((x-\frac{a+b}{2})^{2}\geq(\frac{b-a}{2})^{2})\\&\leq\frac{E[(x-\frac{a+b}{2})^{2}]}{(\frac{b-a}{2})^{2}}=\frac{V[x]+(E[x]-\frac{a+b}{2})^{2}}{(\frac{b-a}{2})^{2}}.\end{align*}" style="border:none;">  
需要注意，上述不等式缩小到原始的切比雪夫不等式（8.5），通过设  
<img src="http://latex.codecogs.com/gif.latex?a=-\varepsilon+E[x]" style="border:none;"> 和 <img src="http://latex.codecogs.com/gif.latex?b=\varepsilon+E[x]" style="border:none;"> .
